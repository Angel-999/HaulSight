import{b as I,d as g,g as b,h as y,l as v}from"./chunk-E76JMY7I.js";import{Bb as c,Cb as u,Ia as a,Na as l,Sa as d,Wa as f,fb as p,gb as r,hb as i,mb as h,zb as n}from"./chunk-5M7NGYD3.js";function x(o,t){if(o&1&&(r(0,"div")(1,"h2"),n(2,"Carrier Info"),i(),r(3,"p")(4,"strong"),n(5,"Name:"),i(),n(6),i(),r(7,"p")(8,"strong"),n(9,"USDOT Number:"),i(),n(10),i(),r(11,"p")(12,"strong"),n(13,"Status Code:"),i(),n(14),i(),r(15,"p")(16,"strong"),n(17,"Phone:"),i(),n(18," N/A"),i(),r(19,"p")(20,"strong"),n(21,"Address:"),i(),n(22),i()()),o&2){let e=h();a(6),c(" ",e.filteredItem.legalName),a(4),c(" ",e.filteredItem.dotNumber),a(4),c(" ",e.filteredItem.statusCode),a(8),u(" ",e.filteredItem.phyStreet,", ",e.filteredItem.phyCity,", ",e.filteredItem.phyState," ",e.filteredItem.phyZipcode," ")}}function S(o,t){o&1&&(r(0,"div")(1,"p"),n(2,"No carrier data yet... \u{1F50D}"),i()())}var m=class o{constructor(t,e){this.route=t;this.http=e}items=[];filteredItem=null;webKey="ce8453b4abbdd6b60e7b2f16481dc42000194f81";ngOnInit(){this.route.queryParams.subscribe(t=>{let e=t.type||"",s=t.q||"";console.log("Sexy search type:",e,"term:",s),this.searchItems(e,s)})}searchItems(t,e){if(!e){this.filteredItem=null;return}switch(t){case"name":this.callNameApi(e);break;case"usdot":this.callUSDOTApi(e);break;case"docket":this.callDocketApi(e);break;default:this.filteredItem=null}}callNameApi(t){this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/name?q=${encodeURIComponent(t)}`).subscribe(e=>{this.filteredItem=e},e=>{console.error("Error fetching by name:",e)})}callUSDOTApi(t){this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/carriers/${encodeURIComponent(t)}?webKey=${encodeURIComponent(this.webKey)}`).subscribe(e=>{console.log("\u{1F525} API response for name:",e),this.filteredItem=e.content.carrier},e=>{console.error("Error fetching by USDOT:",e)})}callDocketApi(t){this.http.get(`https://yourapi.com/search/docket?q=${encodeURIComponent(t)}`).subscribe(e=>{this.filteredItem=e},e=>{console.error("Error fetching by docket:",e)})}static \u0275fac=function(e){return new(e||o)(l(v),l(b))};static \u0275cmp=d({type:o,selectors:[["app-search"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(e,s){e&1&&f(0,x,23,7,"div",0)(1,S,3,0,"div",0),e&2&&(p("ngIf",s.filteredItem),a(),p("ngIf",!s.filteredItem))},dependencies:[y,g,I],encapsulation:2})};var O=[{path:"",component:m}];export{O as SEARCH_ROUTES};
