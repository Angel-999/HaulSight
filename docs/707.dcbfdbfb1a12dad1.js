"use strict";(self.webpackChunkHaulSight=self.webpackChunkHaulSight||[]).push([[707],{5707:(u,n,c)=>{c.r(n),c.d(n,{SEARCH_ROUTES:()=>p});var l=c(6396),a=c(2306),e=c(7241),d=c(6518);function h(s,f){if(1&s&&(e.j41(0,"div")(1,"h2"),e.EFF(2,"Carrier Info"),e.k0s(),e.j41(3,"p")(4,"strong"),e.EFF(5,"Name:"),e.k0s(),e.EFF(6),e.k0s(),e.j41(7,"p")(8,"strong"),e.EFF(9,"USDOT Number:"),e.k0s(),e.EFF(10),e.k0s(),e.j41(11,"p")(12,"strong"),e.EFF(13,"Status Code:"),e.k0s(),e.EFF(14),e.k0s(),e.j41(15,"p")(16,"strong"),e.EFF(17,"Address:"),e.k0s(),e.EFF(18),e.k0s()()),2&s){const r=e.XpG();e.R7$(6),e.SpI(" ",r.filteredItem.legalName),e.R7$(4),e.SpI(" ",r.filteredItem.dotNumber),e.R7$(4),e.SpI(" ",r.filteredItem.statusCode),e.R7$(4),e.LHq(" ",r.filteredItem.phyStreet,", ",r.filteredItem.phyCity,", ",r.filteredItem.phyState," ",r.filteredItem.phyZipcode," ")}}function m(s,f){1&s&&(e.j41(0,"div")(1,"p"),e.EFF(2,"No carrier data yet... \u{1f50d}"),e.k0s()())}const p=[{path:"",component:(()=>{class s{route;http;items=[];filteredItem=null;webKey="ce8453b4abbdd6b60e7b2f16481dc42000194f81";constructor(r,t){this.route=r,this.http=t}ngOnInit(){this.route.queryParams.subscribe(r=>{const t=r.type||"",o=r.q||"";console.log("Sexy search type:",t,"term:",o),this.searchItems(t,o)})}searchItems(r,t){if(t)switch(r){case"name":this.callNameApi(t);break;case"usdot":this.callUSDOTApi(t);break;case"docket":this.callDocketApi(t);break;default:this.filteredItem=null}else this.filteredItem=null}callNameApi(r){this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/carriers/name/${encodeURIComponent(r)}?webKey=${encodeURIComponent(this.webKey)}`).subscribe(t=>{const o=t.content?.filter(i=>"Y"===i.carrier.allowedToOperate)||[];this.filteredItem=o.map(i=>i.carrier),this.filteredItem=this.filteredItem[0]},t=>{console.error("Error fetching by name:",t)})}callUSDOTApi(r){this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/carriers/${encodeURIComponent(r)}?webKey=${encodeURIComponent(this.webKey)}`).subscribe(t=>{this.filteredItem=t.content.carrier},t=>{console.error("Error fetching by USDOT:",t)})}callDocketApi(r){this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/carriers/docket-number/${encodeURIComponent(r)}?webKey=${encodeURIComponent(this.webKey)}`).subscribe(t=>{console.log(t),this.filteredItem=t.content[0].carrier},t=>{console.error("Error fetching by USDOT:",t)})}static \u0275fac=function(t){return new(t||s)(e.rXU(d.nX),e.rXU(a.Qq))};static \u0275cmp=e.VBU({type:s,selectors:[["app-search"]],decls:2,vars:2,consts:[[4,"ngIf"]],template:function(t,o){1&t&&e.DNE(0,h,19,7,"div",0)(1,m,3,0,"div",0),2&t&&(e.Y8G("ngIf",o.filteredItem),e.R7$(),e.Y8G("ngIf",!o.filteredItem))},dependencies:[a.q1,l.MD,l.bT],styles:["*[_ngcontent-%COMP%]{color:#fff}"]})}return s})()}]}}]);