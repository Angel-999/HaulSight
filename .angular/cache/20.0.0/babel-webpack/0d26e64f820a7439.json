{"ast":null,"code":"import { CommonModule } from '@angular/common'; // <-- Add this\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/common\";\nfunction Search_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\")(1, \"h2\");\n    i0.ÉµÉµtext(2, \"Carrier Info\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(3, \"p\")(4, \"strong\");\n    i0.ÉµÉµtext(5, \"Name:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(6);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"p\")(8, \"strong\");\n    i0.ÉµÉµtext(9, \"USDOT Number:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(10);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(11, \"p\")(12, \"strong\");\n    i0.ÉµÉµtext(13, \"Status Code:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(14);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(15, \"p\")(16, \"strong\");\n    i0.ÉµÉµtext(17, \"Phone:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(18, \" N/A\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(19, \"p\")(20, \"strong\");\n    i0.ÉµÉµtext(21, \"Address:\");\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµtext(22);\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(6);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.filteredItem.legalName);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.filteredItem.dotNumber);\n    i0.ÉµÉµadvance(4);\n    i0.ÉµÉµtextInterpolate1(\" \", ctx_r0.filteredItem.statusCode);\n    i0.ÉµÉµadvance(8);\n    i0.ÉµÉµtextInterpolate4(\" \", ctx_r0.filteredItem.phyStreet, \", \", ctx_r0.filteredItem.phyCity, \", \", ctx_r0.filteredItem.phyState, \" \", ctx_r0.filteredItem.phyZipcode, \" \");\n  }\n}\nfunction Search_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\")(1, \"p\");\n    i0.ÉµÉµtext(2, \"No carrier data yet... \\uD83D\\uDD0D\");\n    i0.ÉµÉµelementEnd()();\n  }\n}\nexport let Search = /*#__PURE__*/(() => {\n  class Search {\n    route;\n    http;\n    items = [];\n    filteredItem = null;\n    webKey = 'ce8453b4abbdd6b60e7b2f16481dc42000194f81';\n    constructor(route, http) {\n      this.route = route;\n      this.http = http;\n    }\n    ngOnInit() {\n      this.route.queryParams.subscribe(params => {\n        const searchType = params['type'] || '';\n        const searchTerm = params['q'] || '';\n        console.log('Sexy search type:', searchType, 'term:', searchTerm);\n        // Now use searchTerm to filter or query your data\n        this.searchItems(searchType, searchTerm);\n      });\n    }\n    searchItems(type, term) {\n      if (!term) {\n        this.filteredItem = null;\n        return;\n      }\n      switch (type) {\n        case 'name':\n          this.callNameApi(term);\n          break;\n        case 'usdot':\n          this.callUSDOTApi(term);\n          break;\n        case 'docket':\n          this.callDocketApi(term);\n          break;\n        default:\n          // If type unknown, clear or handle differently\n          this.filteredItem = null;\n      }\n    }\n    callNameApi(name) {\n      this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/name?q=${encodeURIComponent(name)}`).subscribe(data => {\n        this.filteredItem = data;\n      }, error => {\n        console.error('Error fetching by name:', error);\n      });\n    }\n    callUSDOTApi(usdot) {\n      this.http.get(`https://mobile.fmcsa.dot.gov/qc/services/carriers/${encodeURIComponent(usdot)}?webKey=${encodeURIComponent(this.webKey)}`).subscribe(data => {\n        console.log('ðŸ”¥ API response for name:', data); // <--- Right here, baby\n        this.filteredItem = data.content.carrier;\n      }, error => {\n        console.error('Error fetching by USDOT:', error);\n      });\n    }\n    callDocketApi(docket) {\n      this.http.get(`https://yourapi.com/search/docket?q=${encodeURIComponent(docket)}`).subscribe(data => {\n        this.filteredItem = data;\n      }, error => {\n        console.error('Error fetching by docket:', error);\n      });\n    }\n    static Éµfac = function Search_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || Search)(i0.ÉµÉµdirectiveInject(i1.ActivatedRoute), i0.ÉµÉµdirectiveInject(i2.HttpClient));\n    };\n    static Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: Search,\n      selectors: [[\"app-search\"]],\n      decls: 2,\n      vars: 2,\n      consts: [[4, \"ngIf\"]],\n      template: function Search_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµtemplate(0, Search_div_0_Template, 23, 7, \"div\", 0)(1, Search_div_1_Template, 3, 0, \"div\", 0);\n        }\n        if (rf & 2) {\n          i0.ÉµÉµproperty(\"ngIf\", ctx.filteredItem);\n          i0.ÉµÉµadvance();\n          i0.ÉµÉµproperty(\"ngIf\", !ctx.filteredItem);\n        }\n      },\n      dependencies: [HttpClientModule, CommonModule, i3.NgIf],\n      encapsulation: 2\n    });\n  }\n  return Search;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}